(function(){"use strict";var t={555:function(t,e,r){var n=r(144),a=r(726),o=r(259),s=r(102),i=function(){var t=this,e=t._self._c;return e(a.Z,[e(o.Z,{attrs:{app:"",color:"primary",dark:""}},[e("div",{staticClass:"d-flex align-center"},[e("h1",[t._v("ESportsBattle Site Aggregator")])])]),e(s.Z,[e("AggregatorsInfo")],1)],1)},l=[],u=r(57),c=r(816),d=r(255),f=r(981),p=r(690),h=function(){var t=this,e=t._self._c;return e(c.Z,{attrs:{elevation:"2",shaped:""}},[e(d.EB,[e("h3",[t._v("Список новых матчей")])]),e(d.Qq,[e("h4",[t._v("Данное приложение собирает все новые матчи по дисциплинам CS2 и Футболу с сайта ESportsBattle.")])]),e(p.Z),t.error.state?e(u.Z,{attrs:{type:"error"}},[t._v(" "+t._s(t.error.message)+" ")]):t._e(),e(d.ZB,[t.loading?e("div",{staticStyle:{"text-align":"center"}},[e("Loader")],1):e("div",[e(f.Z,{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.matches}})],1)])],1)},v=[],m=r(629),g=function(){var t=this;t._self._c;return t._m(0)},_=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"lds-roller"},[e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div"),e("div")])}],y={name:"Loader"},b=y,w=r(1),Z=(0,w.Z)(b,g,_,!1,null,"271cfb85",null),x=Z.exports,O={name:"AggregatorsInfo",components:{Loader:x},data:()=>({loading:!0,error:{state:!1,message:""}}),async mounted(){while(this.loading)try{await this.$store.dispatch("load_matches"),this.loading=!1,this.error.state=!1;break}catch(t){console.log(t),this.error.state=!0,this.error.message=t.message,this.sleep(5e3)}},methods:{sleep(t){const e=Date.now();let r=null;do{r=Date.now()}while(r-e<t)}},computed:{...(0,m.Se)(["matches"]),headers(){return[{text:"id",align:"start",value:"id"},{text:"Дата",value:"date"},{text:"Время",value:"time"},{text:"Название дисциплины",value:"discipline_name"},{text:"Название чемпионата",value:"tournament_name"},{text:"Участник №1",value:"participant1_name"},{text:"Участник №2",value:"participant2_name"}]}}},S=O,P=(0,w.Z)(S,h,v,!1,null,null,null),j=P.exports,k={name:"App",components:{AggregatorsInfo:j},data:()=>({})},C=k,T=(0,w.Z)(C,i,l,!1,null,null,null),A=T.exports,E={actions:{async api_request({getters:t},{endpoint:e,headers:r,body:n}){let a={headers:r||{}};n&&(a.method="POST",a.headers["Content-type"]="application/json",a.body=JSON.stringify(n));let o=await fetch(t.url+"/api/v1"+e,a);if(o=await o.json(),o.result)return o.data;throw console.error(`Request ${e} failed: (${o.error_class}) ${o.error_text}`),new Error(o.error_text)}},getters:{url(){return""}}},$={state:{matches:[]},getters:{matches(t){return t.matches}},mutations:{set_matches(t,e){t.matches=e}},actions:{async load_matches(t){let e=await t.dispatch("api_request",{endpoint:"/matches/get_all"});return t.commit("set_matches",e),e}}};n.ZP.use(m.ZP);var q=new m.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{api:E,matches:$}}),B=r(986);n.ZP.use(B.Z);var I=new B.Z({});n.ZP.config.productionTip=!1,new n.ZP({store:q,vuetify:I,render:function(t){return t(A)}}).$mount("#app")}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,n,a,o){if(!n){var s=1/0;for(c=0;c<t.length;c++){n=t[c][0],a=t[c][1],o=t[c][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[n,a,o]}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,o,s=n[0],i=n[1],l=n[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var c=l(r)}for(e&&e(n);u<s.length;u++)o=s[u],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(c)},n=self["webpackChunkesportsbattle_front_vue"]=self["webpackChunkesportsbattle_front_vue"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(555)}));n=r.O(n)})();
//# sourceMappingURL=app.e49aa1a3.js.map