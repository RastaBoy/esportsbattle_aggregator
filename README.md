# ESportsBattle Site Aggregator
## Общие сведение
Данное приложение создано в рамках тестового задания для *"ООО 24H Софт"*. Необходимо было собирать информацию о расписании спортивных событий, в частности, новые матчи по дисциплинам CS2 и Футболу с сайта https://esportsbattle.com/, с возможностью расширения и расчета на большие объемы данных.
Всю информацию необходимо было записывать в Б/д Postgres. 

## Используемый стэк
### Python
* Quart (асинхронный аналог Flask)
* SQLAlchemy
* aiohttp
### Vue
* Vue2
* Vuetify

# Инструкция
## Docker
Для запуска проекта без головной боли (надеюсь) в первую очередь необходимо установить Docker и Docker-Compose. Более подробно про установку описано здесь https://www.docker.com/get-started/.

Узннать, корректно ли установлен Docker, можно при помощи ввода следующей комманды в консоли:
```
docker --version
```
В случае docker-compose:
```
docker-compose --version
```

## Git
Следующим шагом необходимо скачать проект. 
Сделать это можно при помощи сайта github.com при помощи кнопки Download ZIP в меню "<> Code" и затем распаковать на своем ПК:
![telegram-cloud-photo-size-2-5262561026665206724-y](https://github.com/RastaBoy/esportsbattle_aggregator/assets/37360266/c2563d72-c779-4f81-824d-d0bb00f45407)
Либо можно установить себе Git (подробнее здесь https://git-scm.com/book/en/v2/Getting-Started-First-Time-Git-Setup) и в консоли ввести следующую команду:
```
git clone https://github.com/RastaBoy/esportsbattle_aggregator.git
```

## Настройки
Перед запуском необходимо создать конфигурационный файл ".env" в корне проекта рядом с файлом docker-compose.yml со следующим содержанием:
```
# Postgres variables
POSTGRES_USERNAME=
POSTGRES_PASSWORD=
POSTGRES_DB_NAME=

# Application variables
APP_PORT=11011
UPDATE_TIMEOUT=60
```
Для примера с приложением поставляется "env.sample" с аналогичным содержанием.
В кратце про переменные:
### POSTGRES_USERNAME
Имя пользователя, который будет создан в Б/Д по-умолчанию и от лица которого приложение будет подключаться к Б/Д.
### POSTGRES_PASSWORD
Пароль для подключения к Б/Д.
### POSTGRES_DB_NAME
Название базы данных, которая будет создана по-умолчанию и к которой приложение будет подключаться.
### APP_PORT
Порт, на котором будет запускаться основное приложение.
### UPDATE_TIMEOUT
Задержка между обновлениями в Б/Д актуальных матчей.

## Запуск!
Итак, когда проект склонирован, Docker установлен, а приложение сконфигурировано, можно приступить к запуску проекта. Для этого инициализируйте командную строку в папку с проектом и введите следующую команду:
```
docker-compose up
```

По-умолчанию проект запускается на порту 11011 и для того, чтобы ознакомиться с результатами работы приложения, в браузере необходимо перейти по ссылке http://127.0.0.1:11011/.
В случае, если всё прошло успешно, то по данному адресу должно отобразиться следующее:
![image](https://github.com/RastaBoy/esportsbattle_aggregator/assets/37360266/f677967b-2a82-4ec2-87a0-fae46e13e92d)

Логи службы хранятся в рамках контейнера Docker и копируются в папку "docker-logs" рядом с файлами прокета.

Для того, чтобы остановить службу введите:
```
docker-compose down
```
